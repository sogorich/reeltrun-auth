<img src="https://user-images.githubusercontent.com/48412168/205148407-7649497b-0a21-4b9e-80ef-8f64b80cf70b.svg" width="400" />

üõ° –°–µ—Ä–≤–∏—Å –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ –∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏. 

–°–∏—Å—Ç–µ–º–∞ –æ—Å–Ω–æ–≤–∞–Ω–∞ –Ω–∞ –ø—Ä–æ—Ç–æ–∫–æ–ª–µ OAuth2.0 —Å —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–µ–π –ø–æ—Ç–æ–∫–∞ –ø–∞—Ä–æ–ª–µ–π (password flow), 
–æ–±–µ—Å–ø–µ—á–∏–≤–∞—é—â–∏–µ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ —Å –∫–ª–∏–µ–Ω—Ç—Å–∫–∏–º–∏ —Å–ª—É–∂–±–∞–º–∏ —á–µ—Ä–µ–∑ Json Web Tokens (JWT).

**–ö–ª—é—á–µ–≤—ã–µ –º–æ–º–µ–Ω—Ç—ã —Å–∏—Å—Ç–µ–º—ã**

1. –°–æ–∑–¥–∞–Ω–∏–µ –∞–∫–∫–∞—É–Ω—Ç–∞;
2. –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è;
3. –ò–∑–º–µ–Ω–µ–Ω–∏–µ –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –∞–∫–∫–∞—É–Ω—Ç–∞;
4. –ò–∑–º–µ–Ω–µ–Ω–∏–µ –ø–∞—Ä–æ–ª—è –æ—Ç –∞–∫–∫–∞—É–Ω—Ç–∞;
5. –£–¥–∞–ª–µ–Ω–∏–µ –∞–∫–∫–∞—É–Ω—Ç–∞;
6. –ú–µ—Ö–∞–Ω–∏–∑–º —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏—è, –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏ –∏ –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ–≥–æ –æ—Ç–∑—ã–≤–∞ —Ç–æ–∫–µ–Ω–æ–≤;
7. –§–∏–∫—Å–∞—Ü–∏—è –∞–∫—Ç–∏–≤–Ω—ã—Ö —Å–µ—Å—Å–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è;
8. –ö—Ä–æ–Ω-–∑–∞–¥–∞—á–∏, –¥–ª—è —É–¥–∞–ª–µ–Ω–∏—è –ø—Ä–æ—Å—Ä–æ—á–µ–Ω–Ω—ã—Ö –∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö —Å–µ—Å—Å–∏–π. (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é —É–¥–∞–ª–µ–Ω–∏–µ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –∫–∞–∂–¥—ã–π –¥–µ–Ω—å –≤ 03:00 –ø–æ UTC);
9. –û—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è, –≤ —Ç–æ–º —á–∏—Å–ª–µ –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏–µ –≤–Ω–µ—à—Ç–∞—Ç–Ω—ã—Ö —Å–∏—Ç—É–∞—Ü–∏–π, –≤–æ–∑–Ω–∏–∫–∞—é—â–∏—Ö –ø—Ä–∏ –Ω–µ–æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã—Ö —Å–µ—Ä–≤–µ—Ä–Ω—ã—Ö –æ—à–∏–±–∫–∞—Ö.

## –ù–∞—á–∞–ª–æ —Ä–∞–±–æ—Ç—ã
–ü–µ—Ä–µ–¥ –Ω–∞—á–∞–ª–æ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Å–µ—Ä–≤–∏—Å–∞ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –ø—Ä–∏–º–µ–Ω–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏–∏ –∏ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏.

**–í—ã–ø–æ–ª–Ω–∏—Ç–µ —Å–ª–µ–¥—É—é—â–∏–µ –∫–æ–º–∞–Ω–¥—ã:**
<pre>
pip install -r ./requirements.txt
</pre>
<pre>
aerich init -t database.option.TORTOISE_ORM
</pre>
<pre>
aerich init-db
</pre>
<pre>
aerich migrate
</pre>
<pre>
aerich upgrade
</pre>
**–ï—Å–ª–∏ –Ω—É–∂–Ω–æ —Å–±—Ä–æ—Å–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏–∏:**
<pre>
–£–¥–∞–ª–∏—Ç–µ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö –∏ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é —Å –º–∏–≥—Ä–∞—Ü–∏—è–º–∏
</pre>
<pre>
aerich init-db
</pre>

**–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª—ã dev.env –∏ prod.env —Å–æ —Å–ª–µ–¥—É—é—â–∏–º —Å–æ–¥–µ—Ä–∂–∏–º—ã–º**
<pre>
# OpenAPI
OPENAPI_URL="/openapi.json"
REDOC_URL="/redoc"
DOCS_URL="/docs"

# JWT
ACCESS_TOKEN_LIFETIME=15 # in minutes
REFRESH_TOKEN_LIFETIME=21 # in days

# Crypto
SECRET_KEY="–í–ê–®_–°–ï–ö–†–ï–¢–ù–´–ô_–ö–õ–Æ–ß"
BASE_HASH_ALGORITHM="HS256"

# Database
DATABASE_DSN="sqlite://db.sqlite3"

# CORS
CORS_ORIGINS="http://127.0.0.1 http://127.0.0.1:8000"
</pre>

***dev.env** –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ –¥–µ–±–∞–≥-—Ä–µ–∂–∏–º–µ.

**–î–ª—è Postgres —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Å–ª–µ–¥—É—é—â–∏–π DSN –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é DATABASE_DSN:**
<pre>
DATABASE_DSN="postgres://user:pass@localhost:5432/postgres"
</pre>

**–ó–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è**

–í —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ–º —Ä–µ–∂–∏–º–µ:
<pre>
uvicorn server:app --reload
</pre>

–í –∫–∞—á–µ—Å—Ç–≤–µ sub-application:
<pre>
app.mount("/path", auth_app)
</pre>
- **app**: –≠–∫–∑–µ–º–ø–ª—è—Ä –í–∞—à–µ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è FastAPI;
- **auth_app**: –≠–∫–∑–µ–º–ø–ª—è—Ä —Å–µ—Ä–≤–∏—Å–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏.

## –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫ –ø—Ä–æ–µ–∫—Ç–∞
- –§—Ä–µ–π–º–≤–æ—Ä–∫ FastAPI
- Object Relation Mapping Tortoise ORM
- –ú–∏–≥—Ä–∞—Ü–∏–∏ Aerich
- –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ Loguru
- –ö—Ä–æ–Ω—ã aiocron
- –¢–µ—Å—Ç—ã pytest

## –ü–µ—Ä—Å–ø–µ–∫—Ç–∏–≤—ã. –î–∞–ª—å–Ω–µ–π—à–µ–µ —Ä–∞–∑–≤–∏—Ç–∏–µ.
–ü–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è –æ—Ä–≥–∞–Ω–∏–∑–æ–≤–∞—Ç—å —ç—Ç–æ—Ç —Å–µ—Ä–≤–∏—Å –∫–∞–∫ –ø–æ—Å—Ç–∞–≤—â–∏–∫–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ (identity provider), 
—Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π SSO –∏ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è —Å–æ —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–µ–π Open ID Connect ‚Äî —á—Ç–æ, –≤–æ–∑–º–æ–∂–Ω–æ, 
–±—É–¥–µ—Ç —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ –∫–∞–∫ –æ—Ç–¥–µ–ª—å–Ω–æ –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ FastAPI –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ.


![Group 6](https://user-images.githubusercontent.com/48412168/205160358-6f924cba-21db-42e4-aabf-f469ce6a572d.png)
